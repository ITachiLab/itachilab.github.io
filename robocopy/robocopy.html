<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Robocopy &mdash; ITachi Lab Docs</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="canonical" href="https://itachi.pl/robocopy/robocopy.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Remote Desktop - Error 0x204" href="../0x204/0x204.html" />
    <link rel="prev" title="nRF52840 with CMSIS" href="../nrf-cmsis/nrf-cmsis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../lacrosse-tx3/lacrosse-tx3.html">Lacrosse TX3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../brainfuck-assembler/brainfuck-assembler.html">Brainfuck Assembler (BFA)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Raspberry Pi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../initramfs-pi/initramfs-pi.html">Raspberry Pi running from initramfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../u-boot-on-raspberry/u-boot-on-raspberry.html">U-Boot on Raspberry</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Embedded</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arbitrary-data-in-binary/arbitrary-data-in-binary.html">Put arbitrary data into binary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linker-script/linker-script.html">Linker Script from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nrf-cmsis/nrf-cmsis.html">nRF52840 with CMSIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Windows</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Robocopy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#backup">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copying-a-single-file">Copying a single file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../0x204/0x204.html">Remote Desktop - Error 0x204</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lenovo-bluetooth/lenovo-bluetooth.html">Lenovo, Bluetooth and Windows 8.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Itachi Lab Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Robocopy</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/robocopy/robocopy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="robocopy">
<h1>Robocopy<a class="headerlink" href="#robocopy" title="Permalink to this heading"></a></h1>
<p>I’m pretty sure that only a small group of Windows’s users is aware of existence of a tool named <strong>robocopy</strong>. I bet it’s better known among administrators, but an ordinary user would benefit from knowing this tool too. Personally, I discovered this utility after I needed to transfer over 30 GB of data shared through SMB while being connected to an unstable network. I’m sure there are tools that could do that, but why download one more unnecessary software when you can use a built-in one.</p>
<p>All information needed to start using robocopy can be found in the command line manual after executing: <code class="docutils literal notranslate"><span class="pre">robocopy</span> <span class="pre">/?</span></code> . I’m not going to describe every part of it, I will focus only on the most common use-cases.</p>
<section id="backup">
<h2>Backup<a class="headerlink" href="#backup" title="Permalink to this heading"></a></h2>
<p>The basic functionality of robocopy is an ability to copy only those files which aren’t in the target directory or those which were modified in the source directory. This feature makes this tool perfect for typical backups on an external drive. This can be done with the following command:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>robocopy C:\Users\Foo\Documents Z:\Documents /Z /E
</pre></div>
</div>
<p>The syntax is self explanatory: copy all files from the first path to the second path. It’s worth noting that robocopy works on directories, it compares content of both of them and does its magic. However, copying single files is also possible.</p>
<p>The two parameters at the end need a quick explanation:</p>
<dl class="field-list simple">
<dt class="field-odd">/Z</dt>
<dd class="field-odd"><p>Enables restarting interrupted copying, perfect for large files.</p>
</dd>
<dt class="field-even">/E</dt>
<dd class="field-even"><p>Enables recursive copying.</p>
</dd>
</dl>
<p>In order to delete files from the target directory which were deleted from the source directory, the <code class="docutils literal notranslate"><span class="pre">/PURGE</span></code> switch is the answer. <code class="docutils literal notranslate"><span class="pre">/PURGE</span> <span class="pre">/E</span> <span class="pre">/Z</span></code> can be replaced with: <code class="docutils literal notranslate"><span class="pre">/MIR</span> <span class="pre">/Z</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">/PURGE</dt>
<dd class="field-odd"><p>Delete destination files/directories that no longer exist in source.</p>
</dd>
<dt class="field-even">/MIR</dt>
<dd class="field-even"><p>Mirror a directory tree (equivalent to <code class="docutils literal notranslate"><span class="pre">/E</span></code> plus <code class="docutils literal notranslate"><span class="pre">/PURGE</span></code>).</p>
</dd>
</dl>
<p>To omit unwanted directories, use option: <code class="docutils literal notranslate"><span class="pre">/XD</span></code>, wildcards are acceptable.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>robocopy C:\Users\Foo\Data Z:\Data /E /XD unwanted_dir1 unwanted_dir2
</pre></div>
</div>
<p>In order to exclude files, there’s another switch: <code class="docutils literal notranslate"><span class="pre">/XF</span></code>, and it works analogously.</p>
</section>
<section id="copying-a-single-file">
<h2>Copying a single file<a class="headerlink" href="#copying-a-single-file" title="Permalink to this heading"></a></h2>
<p>Copying single files is possible too, robocopy isn’t only for directories.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>robocopy C:\Users\Foo\ Z:\ legal_windows.iso /Z /J
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">/J</dt>
<dd class="field-odd"><p>Copy using unbuffered I/O (recommended for large files).</p>
</dd>
</dl>
<p>The above command is the one that I used for copying data through an unstable link. If the internet connection drops, the command can be simply executed again when the connection is back, and robocopy will continue the transfer as if nothing had happened.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../nrf-cmsis/nrf-cmsis.html" class="btn btn-neutral float-left" title="nRF52840 with CMSIS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../0x204/0x204.html" class="btn btn-neutral float-right" title="Remote Desktop - Error 0x204" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Itachi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7S93SGB655"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-7S93SGB655', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>